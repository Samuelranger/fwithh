{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"D:/fiverr/fiverr/brought/shoponix/dashboard-source-code/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/fiverr/fiverr/brought/shoponix/dashboard-source-code/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"D:/fiverr/fiverr/brought/shoponix/dashboard-source-code/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"D:/fiverr/fiverr/brought/shoponix/dashboard-source-code/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport { Button, Form, Icon, Message, Segment } from 'semantic-ui-react';\nimport catchErrors from '../../utils/catchErrors';\nimport baseUrl from '../../utils/baseUrl';\nimport { handleLogin } from '../../utils/auth';\nvar INITIAL_USER = {\n  name: '',\n  email: '',\n  password: ''\n};\n\nvar Signup = function Signup() {\n  var _React$useState = React.useState(INITIAL_USER),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      disabled = _React$useState4[0],\n      setDisabled = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      error = _React$useState8[0],\n      setError = _React$useState8[1];\n\n  React.useEffect(function () {\n    var isUser = Object.values(user).every(function (el) {\n      return Boolean(el);\n    });\n    isUser ? setDisabled(false) : setDisabled(true);\n  }, [user]);\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setUser(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var url, payload, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.prev = 1;\n              setLoading(true);\n              setError('');\n              url = \"\".concat(baseUrl, \"/api/signup\");\n              payload = _objectSpread({}, user);\n              _context.next = 8;\n              return axios.post(url, payload);\n\n            case 8:\n              response = _context.sent;\n              handleLogin(response.data);\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](1);\n              catchErrors(_context.t0, setError);\n\n            case 15:\n              _context.prev = 15;\n              setLoading(false);\n              return _context.finish(15);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 12, 15, 18]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"signup-area\",\n    children: [/*#__PURE__*/_jsx(Message, {\n      attached: true,\n      icon: \"settings\",\n      header: \"Get Started\",\n      content: \"Create a new account\",\n      color: \"green\"\n    }), /*#__PURE__*/_jsxs(Form, {\n      error: Boolean(error),\n      loading: loading,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsx(Message, {\n        error: true,\n        header: \"Oops!\",\n        content: error\n      }), /*#__PURE__*/_jsxs(Segment, {\n        children: [/*#__PURE__*/_jsx(Form.Input, {\n          fluid: true,\n          icon: \"user\",\n          iconPosition: \"left\",\n          label: \"Name\",\n          placeholder: \"Name\",\n          name: \"name\",\n          value: user.name,\n          onChange: handleChange\n        }), /*#__PURE__*/_jsx(Form.Input, {\n          fluid: true,\n          icon: \"envelope\",\n          iconPosition: \"left\",\n          label: \"Email\",\n          placeholder: \"Email\",\n          name: \"email\",\n          type: \"email\",\n          value: user.email,\n          onChange: handleChange\n        }), /*#__PURE__*/_jsx(Form.Input, {\n          fluid: true,\n          icon: \"lock\",\n          iconPosition: \"left\",\n          label: \"Password\",\n          placeholder: \"Password\",\n          name: \"password\",\n          type: \"password\",\n          value: user.password,\n          onChange: handleChange\n        }), /*#__PURE__*/_jsx(Button, {\n          icon: \"signup\",\n          type: \"submit\",\n          content: \"Signup Now\",\n          color: \"green\",\n          disabled: disabled || loading\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(Message, {\n      attached: \"bottom\",\n      warning: true,\n      children: [/*#__PURE__*/_jsx(Icon, {\n        name: \"help\"\n      }), \"Existing user?\", \" \", /*#__PURE__*/_jsx(Link, {\n        href: \"/auth/login\",\n        children: /*#__PURE__*/_jsx(\"a\", {\n          children: \"Login here\"\n        })\n      }), \" \", \"instead.\"]\n    })]\n  });\n};\n\nexport default Signup;","map":null,"metadata":{},"sourceType":"module"}