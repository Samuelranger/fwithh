_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{"5PlP":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/my-orders-history",function(){return r("bcJn")}])},"6yfk":function(e,t,r){"use strict";var n=r("U8pU");t.a=function(e){return null!==e&&"object"===Object(n.a)(e)&&e.hasOwnProperty("current")}},NyWP:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var i=r("iVi/"),o=r("U0US"),s=r("YAAg");function a(e,t){var r,n;return(null===(n=null===(r=null===e||void 0===e?void 0:e.req)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.cookie)?i.parse(e.req.headers.cookie,t):s.isBrowser()?i.parse(document.cookie,t):{}}function c(e,t,r,a){var c,u;if(void 0===a&&(a={}),(null===(c=null===e||void 0===e?void 0:e.res)||void 0===c?void 0:c.getHeader)&&e.res.setHeader){if(null===(u=null===e||void 0===e?void 0:e.res)||void 0===u?void 0:u.finished)return console.warn('Not setting "'+t+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var l=e.res.getHeader("Set-Cookie")||[];"string"===typeof l&&(l=[l]),"number"===typeof l&&(l=[]);var d=o.parse(l,{decodeValues:!1}),p=s.createCookie(t,r,a),f=[];d.forEach((function(e){if(!s.areCookiesEqual(e,p)){var t=i.serialize(e.name,e.value,n({encode:function(e){return e}},e));f.push(t)}})),f.push(i.serialize(t,r,a)),e.res.setHeader("Set-Cookie",f)}if(s.isBrowser()){if(a&&a.httpOnly)throw new Error("Can not set a httpOnly cookie in the browser.");document.cookie=i.serialize(t,r,a)}return{}}function u(e,t,r){return c(e,t,"",n(n({},r||{}),{maxAge:-1}))}t.parseCookies=a,t.setCookie=c,t.destroyCookie=u,t.default={set:c,get:a,destroy:u}},PXC7:function(e,t,r){"use strict";var n={current:null},i=new WeakMap;t.a=function(e){if(null===e)return n;if(i.has(e))return i.get(e);var t={current:e};return i.set(e,t),t}},U0US:function(e,t,r){"use strict";var n={decodeValues:!0,map:!1,silent:!1};function i(e){return"string"===typeof e&&!!e.trim()}function o(e,t){var r=e.split(";").filter(i),o=r.shift().split("="),s=o.shift(),a=o.join("=");t=t?Object.assign({},n,t):n;try{a=t.decodeValues?decodeURIComponent(a):a}catch(u){console.error(`set-cookie-parser encountered an error while decoding a cookie with value '${a}'. Set options.decodeValues to false to disable this feature.`,u)}var c={name:s,value:a};return r.forEach((function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase(),n=t.join("=");"expires"===r?c.expires=new Date(n):"max-age"===r?c.maxAge=parseInt(n,10):"secure"===r?c.secure=!0:"httponly"===r?c.httpOnly=!0:"samesite"===r?c.sameSite=n:c[r]=n})),c}function s(e,t){if(t=t?Object.assign({},n,t):n,!e)return t.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var r=e.headers[Object.keys(e.headers).find((function(e){return"set-cookie"===e.toLowerCase()}))];r||!e.headers.cookie||t.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=r}if(Array.isArray(e)||(e=[e]),(t=t?Object.assign({},n,t):n).map){return e.filter(i).reduce((function(e,r){var n=o(r,t);return e[n.name]=n,e}),{})}return e.filter(i).map((function(e){return o(e,t)}))}e.exports=s,e.exports.parse=s,e.exports.parseString=o,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!==typeof e)return[];var t,r,n,i,o,s=[],a=0;function c(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,o=!1;c();)if(","===(r=e.charAt(a))){for(n=a,a+=1,c(),i=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(o=!0,a=i,s.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!o||a>=e.length)&&s.push(e.substring(t,e.length))}return s}},YAAg:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i];if(e[o]!==t[o])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!==typeof window},t.createCookie=function(e,t,r){var i=r.sameSite;!0===i&&(i="strict"),void 0!==i&&!1!==i||(i="lax");var o=n(n({},r),{sameSite:i});return delete o.encode,n({name:e,value:t},o)},t.hasSameProperties=i,t.areCookiesEqual=function(e,t){var r=e.sameSite===t.sameSite;return"string"===typeof e.sameSite&&"string"===typeof t.sameSite&&(r=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),i(n(n({},e),{sameSite:void 0}),n(n({},t),{sameSite:void 0}))&&r}},asDA:function(e,t){e.exports=function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}},bcJn:function(e,t,r){"use strict";r.r(t);var n=r("vJKn"),i=r.n(n),o=r("rg98"),s=r("nKUr"),a=r("NyWP"),c=r("vDqi"),u=r.n(c),l=r("yE/o"),d=r("MqQV"),p=r("Pj1C"),f=r("T5N5"),h=r("WYlG"),v=r("5XkN"),m=r("aQu0"),g=r("D1pA"),j=r("3mGJ"),b=r("QetY"),y=r("hHGt"),w=r("20a2"),O=r("GUDI"),x=function(e){var t=e.orders,r=void 0===t?[]:t,n=Object(w.useRouter)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(m.a,{as:"h2",children:[Object(s.jsx)(g.a,{name:"folder open"}),"My Order History"]}),0===r.length?Object(s.jsxs)(j.a,{inverted:!0,tertiary:!0,color:"pink",textAlign:"center",children:[Object(s.jsxs)(m.a,{icon:!0,children:[Object(s.jsx)(g.a,{name:"copy outline"}),"No Past Orders."]}),Object(s.jsx)(b.a,{onClick:function(){return n.push("/products")},color:"violet",children:"View Products"})]}):Object(s.jsx)(y.a,{fluid:!0,styled:!0,exclusive:!1,panels:function(e){return e.map((function(e){return{key:e._id,title:{content:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.a,{color:"blue",content:Object(O.a)(e.createdAt)}),Object(s.jsx)(p.a,{trigger:Object(s.jsx)(f.a,{toggle:!0,disabled:!0,label:"delivered"==e.status?"Delivered":"Pending",checked:"delivered"==e.status,fitted:!0}),header:"Delivery Status",content:"delivered"==e.status?"Delivered":"Pending",position:"top center",on:["hover"]})]})},content:{content:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(h.a.Header,{as:"h3",children:["Total: $",e.total,Object(s.jsx)(d.a,{content:e.email,icon:"mail",basic:!0,horizontal:!0,style:{marginLeft:"1em"}})]}),Object(s.jsx)(h.a,{children:e.products.map((function(e){return Object(s.jsxs)(h.a.Item,{children:[Object(s.jsx)(v.a,{avatar:!0,src:e.product.mediaUrl}),Object(s.jsxs)(h.a.Content,{children:[Object(s.jsx)(h.a.Header,{children:e.product.name}),Object(s.jsxs)(h.a.Description,{children:[e.quantity," . $",e.product.price]})]}),Object(s.jsx)(h.a.Content,{floated:"right",children:Object(s.jsx)(d.a,{tag:!0,color:"red",size:"tiny",children:e.product.sku})})]},e.product._id)}))})]})}}}))}(r)})]})},k=r("rjN7"),S=function(e){var t=e.orders;return Object(s.jsx)(l.a,{className:"order-history-area",children:Object(s.jsx)(x,{orders:t})})};S.getInitialProps=function(){var e=Object(o.a)(i.a.mark((function e(t){var r,n,o,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(a.parseCookies)(t),n=r.token){e.next=3;break}return e.abrupt("return",{orders:[]});case 3:return o={headers:{Authorization:n}},s="".concat(k.a,"/api/orders"),e.next=7,u.a.get(s,o);case 7:return c=e.sent,e.abrupt("return",c.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.default=S},"iVi/":function(e,t,r){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},s=e.split(o),c=i.decode||n,u=0;u<s.length;u++){var l=s[u],d=l.indexOf("=");if(!(d<0)){var p=l.substr(0,d).trim(),f=l.substr(++d,l.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),void 0==r[p]&&(r[p]=a(f,c))}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||i;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(c+="; HttpOnly");n.secure&&(c+="; Secure");if(n.sameSite){switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,i=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(r){return e}}}},[["5PlP",0,1,2,3,4,5,6,7,8,10,14]]]);